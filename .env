# AI Construction Ecosystem - Environment Configuration
# Этот файл содержит настройки портов для всех сервисов без конфликтов

# =============================================================================
# БАЗЫ ДАННЫХ И ИНФРАСТРУКТУРА
# =============================================================================

# PostgreSQL
POSTGRES_PORT=5432
POSTGRES_HOST=localhost
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=ai_construction
DATABASE_URL="postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}?schema=public"

# Redis
REDIS_PORT=6379
REDIS_HOST=localhost
REDIS_PASSWORD=redis_password
REDIS_URL="redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}"

# Elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_URL="http://${ELASTICSEARCH_HOST}:${ELASTICSEARCH_PORT}"

# Qdrant Vector DB
VECTOR_DB_PORT=6333
VECTOR_DB_HOST=localhost
VECTOR_DB_URL="http://${VECTOR_DB_HOST}:${VECTOR_DB_PORT}"

# =============================================================================
# ОСНОВНЫЕ МИКРОСЕРВИСЫ (без конфликтов)
# =============================================================================

# Frontend
FRONTEND_PORT=3000

# API Gateway
API_PORT=3001

# Auth Service
AUTH_SERVICE_PORT=3002

# User Profile Service
USER_PROFILE_SERVICE_PORT=3003

# Construction Objects Service
CONSTRUCTION_OBJECTS_SERVICE_PORT=3004

# Contracts Management Service
CONTRACTS_SERVICE_PORT=3005

# Document Management Service
DOCUMENTS_SERVICE_PORT=3006

# Notification Service
NOTIFICATION_SERVICE_PORT=3007

# Reporting & Analytics Service
REPORTING_SERVICE_PORT=3008

# Monitoring & Compliance Service
MONITORING_SERVICE_PORT=3009

# AI Operator Service
AI_OPERATOR_SERVICE_PORT=3010

# Vector DB Service
VECTOR_DB_SERVICE_PORT=3011

# =============================================================================
# AI-СПЕЦИФИЧНЫЕ СЕРВИСЫ (уникальные порты для docker-compose.ai.yml)
# =============================================================================

# AI-версии сервисов с уникальными портами
AI_OPERATOR_PORT=3020
AI_AUTH_SERVICE_PORT=3021
AI_DOCUMENT_SERVICE_PORT=3022
AI_API_GATEWAY_PORT=3023

# Ollama AI Service
OLLAMA_PORT=11434
OLLAMA_HOST=localhost
OLLAMA_URL="http://${OLLAMA_HOST}:${OLLAMA_PORT}"

# =============================================================================
# DEV TOOLS
# =============================================================================

# pgAdmin
PGADMIN_PORT=5050
PGADMIN_DEFAULT_EMAIL=admin@admin.com
PGADMIN_DEFAULT_PASSWORD=admin

# Redis Insight
REDIS_INSIGHT_PORT=8001

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# Nx MCP Server
MCP_SERVER_PORT=3030
MCP_SERVER_HOST=localhost
MCP_SERVER_MEMORY_LIMIT=4096m
MCP_SERVER_CPU_LIMIT=2

# Node.js settings for MCP Server
NODE_OPTIONS="--max-old-space-size=4096"

# =============================================================================
# SECURITY & JWT
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key-here

# =============================================================================
# API & EXTERNAL SERVICES
# =============================================================================

# OpenAI API (если используется)
OPENAI_API_KEY=your-openai-api-key-here

# Claude API (если используется)
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Log Level
LOG_LEVEL=info

# Monitoring
MONITORING_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Environment
NODE_ENV=development

# Hot Reload
HOT_RELOAD=true

# Debug Mode
DEBUG=true

# CORS Settings
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# PRODUCTION OVERRIDES (закомментированы для development)
# =============================================================================

# Раскомментируйте для production окружения:
# NODE_ENV=production
# DEBUG=false
# LOG_LEVEL=warn
# HOT_RELOAD=false
# CORS_ORIGIN=https://your-production-domain.com

# =============================================================================
# BACKUP & ADDITIONAL PORTS (резерв для будущих сервисов)
# =============================================================================

# Резервные порты для новых сервисов:
# BACKUP_SERVICE_PORT=3031
# BACKUP_SERVICE_2_PORT=3032
# BACKUP_SERVICE_3_PORT=3033
# BACKUP_SERVICE_4_PORT=3034
# BACKUP_SERVICE_5_PORT=3035
