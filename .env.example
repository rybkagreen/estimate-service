# ========================================
# AI Construction Ecosystem - Environment Variables
# ========================================

# ========================================
# DATABASE CONFIGURATION
# ========================================
DATABASE_URL="postgresql://username:password@localhost:5432/ai_construction_ecosystem?schema=public"
POSTGRES_USER=ai_construction
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=ai_construction_ecosystem
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# For development with Docker
# DATABASE_URL="postgresql://ai_construction:your_secure_password@localhost:5432/ai_construction_ecosystem?schema=public"

# ========================================
# AUTHENTICATION & SECURITY
# ========================================
JWT_SECRET=your_super_secure_jwt_secret_key_here_at_least_32_characters
JWT_EXPIRES_IN=24h
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_REFRESH_EXPIRATION=7d

# Encryption
ENCRYPTION_KEY=your_32_character_encryption_key_here

# Session security
SESSION_SECRET=your_session_secret_key_here

# Password requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# ========================================
# API CONFIGURATION
# ========================================
API_PORT=3001
API_HOST=0.0.0.0
API_PREFIX=/api/v1

# GraphQL
GRAPHQL_PLAYGROUND=true
GRAPHQL_INTROSPECTION=true

# Rate limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# FRONTEND CONFIGURATION
# ========================================
FRONTEND_URL=http://localhost:3000
FRONTEND_PORT=3000

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# ========================================
# SERVICES CONFIGURATION
# ========================================

# Auth Service
AUTH_SERVICE_PORT=3002
AUTH_SERVICE_URL=http://localhost:3002

# User Profile Service
USER_PROFILE_SERVICE_PORT=3003
USER_PROFILE_SERVICE_URL=http://localhost:3003

# Construction Objects Service
CONSTRUCTION_OBJECTS_SERVICE_PORT=3004
CONSTRUCTION_OBJECTS_SERVICE_URL=http://localhost:3004

# Contracts Management Service
CONTRACTS_SERVICE_PORT=3005
CONTRACTS_SERVICE_URL=http://localhost:3005

# Document Management Service
DOCUMENTS_SERVICE_PORT=3006
DOCUMENTS_SERVICE_URL=http://localhost:3006

# Notification Service
NOTIFICATION_SERVICE_PORT=3007
NOTIFICATION_SERVICE_URL=http://localhost:3007

# Reporting & Analytics Service
REPORTING_SERVICE_PORT=3008
REPORTING_SERVICE_URL=http://localhost:3008

# Monitoring & Compliance Service
MONITORING_SERVICE_PORT=3009
MONITORING_SERVICE_URL=http://localhost:3009

# AI Operator Service
AI_OPERATOR_SERVICE_PORT=3010
AI_OPERATOR_SERVICE_URL=http://localhost:3010

# Vector DB Service
VECTOR_DB_SERVICE_PORT=3011
VECTOR_DB_SERVICE_URL=http://localhost:3011

# ========================================
# AZURE INTEGRATION
# ========================================

# Azure Key Vault URL for secrets management
AZURE_KEYVAULT_URL=https://your-keyvault-name.vault.azure.net/
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret
AZURE_TENANT_ID=your_azure_tenant_id

# ========================================
# AI & MACHINE LEARNING
# ========================================

# OpenAI
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# Anthropic Claude
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Vector Database
VECTOR_DB_URL=http://localhost:6333
VECTOR_DB_COLLECTION=construction_docs
VECTOR_DIMENSION=1536

# Embeddings
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_BATCH_SIZE=100
EMBEDDING_DIMENSIONS=1536

# AI Processing
AI_MAX_CONCURRENT_REQUESTS=5
AI_REQUEST_TIMEOUT=60000
AI_RETRY_ATTEMPTS=3
AI_RETRY_DELAY=1000

# AI Features
AI_FEATURE_DOCUMENT_ANALYSIS=true
AI_FEATURE_CONTRACT_REVIEW=true
AI_FEATURE_COMPLIANCE_CHECK=true
AI_FEATURE_RISK_ASSESSMENT=true

# Vector Database AI Settings
VECTOR_DB_COLLECTION_PREFIX=ai_construction
VECTOR_DB_SIMILARITY_THRESHOLD=0.8
VECTOR_DB_MAX_RESULTS=10

# AI Development
AI_DEBUG_MODE=false
AI_CACHE_RESPONSES=true
AI_CACHE_TTL=3600

# ========================================
# FILE STORAGE
# ========================================

# Local storage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif,mp4,avi

# AWS S3 (optional)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=ai-construction-docs

# Google Cloud Storage (optional)
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_CLOUD_KEYFILE=path/to/service-account.json
GOOGLE_CLOUD_BUCKET=ai-construction-docs

# ========================================
# EMAIL & NOTIFICATIONS
# ========================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# SendGrid (alternative)
SENDGRID_API_KEY=your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# SMS (Twilio)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Push Notifications
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email

# ========================================
# LOGGING & MONITORING
# ========================================

# Log levels: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info
LOG_FORMAT=json

# File logging
LOG_FILE=true
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# External monitoring
SENTRY_DSN=your_sentry_dsn_here
PROMETHEUS_METRICS=true
PROMETHEUS_PORT=9090

# Health checks
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s

# ========================================
# REDIS CACHE
# ========================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Cache TTL (seconds)
CACHE_TTL_SHORT=300    # 5 minutes
CACHE_TTL_MEDIUM=3600  # 1 hour
CACHE_TTL_LONG=86400   # 24 hours

# ========================================
# DEVELOPMENT & TESTING
# ========================================

# Environment
NODE_ENV=development
DEBUG=ai-construction:*

# Hot reload
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true

# Testing
TEST_DATABASE_URL="postgresql://ai_construction:password@localhost:5433/ai_construction_test?schema=public"
TEST_TIMEOUT=10000

# Seeding
SEED_DATABASE=false
SEED_ADMIN_EMAIL=superuser@yourdomain.com
SEED_ADMIN_PASSWORD=your_secure_superuser_password_here

# ========================================
# PRODUCTION OVERRIDES
# ========================================
# Uncomment and modify for production

# NODE_ENV=production
# LOG_LEVEL=warn
# GRAPHQL_PLAYGROUND=false
# GRAPHQL_INTROSPECTION=false
# DEBUG=

# Security headers
# HELMET_ENABLED=true
# HSTS_MAX_AGE=31536000

# ========================================
# DOCKER CONFIGURATION
# ========================================

# Docker Compose overrides
COMPOSE_PROJECT_NAME=ai-construction-ecosystem
COMPOSE_FILE=docker-compose.yml:docker-compose.dev.yml

# Container ports
POSTGRES_CONTAINER_PORT=5432
REDIS_CONTAINER_PORT=6379
VECTOR_DB_CONTAINER_PORT=6333

# ========================================
# NX & BUILD CONFIGURATION
# ========================================

# Nx Cloud
NX_CLOUD_ACCESS_TOKEN=your_nx_cloud_token
NX_DAEMON=true
NX_CACHE=true
NX_PARALLEL=3

# Build optimization
NX_SKIP_NX_CACHE=false
NX_VERBOSE_LOGGING=false
